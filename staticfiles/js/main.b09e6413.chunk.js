(this.webpackJsonpexample=this.webpackJsonpexample||[]).push([[0],{116:function(e,t,a){e.exports={postList:"PostList_postList__2JKLn",loadmore:"PostList_loadmore__2H-bC",avatar:"PostList_avatar__2XiGG"}},147:function(e,t,a){e.exports={logInBG:"Login_logInBG__1MdDu",logInCard:"Login_logInCard__25qfe",logInButton:"Login_logInButton__3o0Qu"}},148:function(e,t,a){e.exports={signUpBG:"Register_signUpBG__2cWGW",signUpCard:"Register_signUpCard__b1pKV",signUpButton:"Register_signUpButton__1T9Qd"}},180:function(e,t,a){e.exports={menu:"Header_menu__3Oxas","menu-item-intro":"Header_menu-item-intro__3tWWO","menu-item-logout":"Header_menu-item-logout__2z3XK","sub-menu-title":"Header_sub-menu-title__1PCRw"}},247:function(e,t,a){e.exports={BG:"Page404_BG__1e6oe"}},254:function(e,t,a){e.exports=a(525)},263:function(e,t,a){},525:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"fetchUser",(function(){return me})),a.d(n,"fetchAuthor",(function(){return de}));var r=a(0),o=a.n(r),l=a(6),c=a.n(l),s=a(32),i=a(71),u=a(226),p=(a(263),a(9)),m=a(10),d=a(14),h=a(15),f=a(248),g=a(25),v=a(2),y=a.n(v),b=a(12),E=a(531),x=a(529),k=a(530),w=a(536),O=a(538),C=a(65),j=a(540),I=a(541),S=(a(117),a(147)),A=a.n(S),T=(window.location.protocol.concat("//").concat(window.location.host).concat("/"),"".concat("/fe/post","/:postId")),_=function(e){return"/fe/author/search/"+e},N="https://sponge-book.herokuapp.com/",P=N+"login/",z=N+"signup/",B=function(e){return"".concat(N,"author/").concat(e)},L="".concat(N,"all_author/"),M=function(e){return"".concat(N,"author/").concat(e,"/friendrequests")},F=function(e){return"".concat(N,"author/").concat(e,"/friends/")},U="".concat(N,"friendrequest"),R=function(e,t){return"".concat(N,"author/").concat(e,"/friends/").concat(t)},q=function(e,t){return"".concat(N,"author/").concat(e,"/posts?size=").concat(t)},D="".concat(N,"posts"),W=function(e){return"".concat(N,"posts/").concat(e)},G=function(e){return"".concat(N,"posts/").concat(e,"/comments")},V=a(11),K=a.n(V),H=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onFinish=function(){var e=Object(b.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.post(P,{email:t.email,password:t.password});case 3:a=e.sent,localStorage.setItem("key",a.data.key),window.location.href="/",e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),E.a.error(Object.entries(e.t0.response.data)[0][1],1.5);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:A.a.logInBG},o.a.createElement(x.a,{className:A.a.logInCard,hoverable:!0},o.a.createElement(k.a,{onFinish:this.onFinish},o.a.createElement(k.a.Item,{name:"email",rules:[{type:"email",required:!0,message:"Please type in a valid email address."}]},o.a.createElement(w.a,{prefix:o.a.createElement(j.a,{style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email Address"})),o.a.createElement(k.a.Item,{name:"password",rules:[{required:!0,message:"Please type in your password."}]},o.a.createElement(w.a.Password,{prefix:o.a.createElement(I.a,{style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Password"})),o.a.createElement(k.a.Item,{name:"remember",valuePropName:"checked"},o.a.createElement(O.a,null,"Remember me")),o.a.createElement(k.a.Item,null,o.a.createElement(C.a,{type:"primary",htmlType:"submit",className:A.a.logInButton},"Log in"),o.a.createElement("div",{style:{textAlign:"center"}},"Don't have an account? ",o.a.createElement("a",{href:"/fe/register"},"Sign up"))),o.a.createElement(k.a.Item,{style:{textAlign:"center",marginBottom:"0em"}},o.a.createElement(C.a,{type:"link",htmlType:"button",href:"/"},"Not now?")))))}}]),a}(o.a.Component),Y=a(148),J=a.n(Y),Q=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onFinish=function(){var e=Object(b.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.post(z,{username:t.username,email:t.email,password1:t.password1,password2:t.password2});case 3:a=e.sent,localStorage.setItem("key",a.data.key),E.a.success("Account created!",1.5,(function(){window.location.href="/"})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),E.a.error(Object.entries(e.t0.response.data)[0][1],3);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:J.a.signUpBG},o.a.createElement(x.a,{className:J.a.signUpCard,hoverable:!0},o.a.createElement(k.a,Object.assign({},X,{onFinish:this.onFinish}),o.a.createElement(k.a.Item,{name:"username",label:"Username",rules:[{type:"string",message:"Please input your username."},{required:!0,message:"The input is not valid Username."}]},o.a.createElement(w.a,null)),o.a.createElement(k.a.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail."},{required:!0,message:"Please input your E-mail."}]},o.a.createElement(w.a,null)),o.a.createElement(k.a.Item,{name:"password1",label:"Password",rules:[{required:!0,message:"Please input your password."}]},o.a.createElement(w.a.Password,null)),o.a.createElement(k.a.Item,{name:"password2",label:"Confirm Password",rules:[{required:!0,message:"Please confirm your password."},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password1")!==a?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},o.a.createElement(w.a.Password,null)),o.a.createElement(k.a.Item,Z,o.a.createElement(C.a,{type:"primary",htmlType:"submit",className:J.a.signUpButton},"Sign up"),o.a.createElement("div",{style:{textAlign:"center"}},"Already have an account? ",o.a.createElement("a",{href:"/fe/login"},"Log in"))),o.a.createElement(k.a.Item,Object.assign({},Z,{style:{textAlign:"center",marginBottom:"0em"}}),o.a.createElement(C.a,{type:"link",htmlType:"button",href:"/"},"Not now?")))))}}]),a}(o.a.Component),X={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},Z={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},$=Q,ee=a(534),te=a(542),ae=a(543),ne=a(544),re=a(545),oe=a(546),le=a(547),ce=a(548),se=a(549),ie=a(180),ue=a.n(ie),pe=a(42),me=function(){return function(){var e=Object(b.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!localStorage.getItem("key")){e.next=8;break}return e.next=4,K.a.get("https://sponge-book.herokuapp.com/author/current_user",{headers:{Authorization:"Token "+localStorage.getItem("key")}});case 4:a=e.sent,t({type:"fetch_user",payload:Object(pe.a)(Object(pe.a)({},a.data),{},{loggedIn:!0})}),e.next=9;break;case 8:t({type:"fetch_user",payload:{loggedIn:!1}});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},de=function(e){return function(){var t=Object(b.a)(y.a.mark((function t(a){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K.a.get(B(e));case 3:n=t.sent,a({type:"fetch_author",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},he=[{href:"/",text:"Home",icon:o.a.createElement(te.a,{style:{color:"#7f553b",fontSize:"18px"}})},{href:_(""),text:"Search Author",icon:o.a.createElement(ae.a,{style:{color:"#7f553b",fontSize:"18px"}})},{href:"/fe/post",text:"What's on Your Mind",icon:o.a.createElement(ne.a,{style:{color:"#7f553b",fontSize:"18px"}})},{href:"/fe/user/profile",text:"My Profile",icon:o.a.createElement(j.a,{style:{color:"#7f553b",fontSize:"18px"}})},{href:"/",text:"Friends",icon:o.a.createElement(re.a,{style:{color:"#7f553b",fontSize:"18px"}})},{href:"/fe/author/friends",text:"My Friends",icon:o.a.createElement(oe.a,{style:{color:"#7f553b",fontSize:"18px"}})},{href:"/fe/author/friendrequest",text:"Friend Requests",icon:o.a.createElement(le.a,{style:{color:"#7f553b",fontSize:"18px"}})},{href:null,text:"Logout",icon:o.a.createElement(ce.a,{style:{color:"#7f553b",fontSize:"18px"}})},{href:"/fe/login",text:"Log in",icon:o.a.createElement(se.a,{style:{color:"#7f553b",fontSize:"18px"}})}],fe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchUser()}},{key:"renderAnchor",value:function(e,t){return o.a.createElement("a",{href:he[e].href,onClick:t,style:{color:"#7f553b",fontWeight:"450",fontSize:"18px"}},he[e].icon,he[e].text)}},{key:"renderContext",value:function(){var e=this.props,t=e.user,a=e.selectedKey;return t&&t.loggedIn?o.a.createElement(ee.a,{className:ue.a.menu,mode:"horizontal",selectedKeys:a},o.a.createElement(ee.a.Item,{key:"-1",disabled:!0,style:{marginRight:"5%"}},o.a.createElement("span",{style:{color:"#7f553b",fontWeight:"450",fontSize:"18px"}},"Hi, ",t.displayName)),o.a.createElement(ee.a.Item,{key:"0"},this.renderAnchor(0)),o.a.createElement(ee.a.Item,{key:"1"},this.renderAnchor(1)),o.a.createElement(ee.a.Item,{key:"2"},this.renderAnchor(2)),o.a.createElement(ee.a.Item,{key:"3"},this.renderAnchor(3)),o.a.createElement(ee.a.SubMenu,{key:"4",style:{color:"#7f553b",fontWeight:"450",fontSize:"18px"},title:o.a.createElement("div",null,he[4].icon,he[4].text)},o.a.createElement(ee.a.Item,{key:"5"},this.renderAnchor(5)),o.a.createElement(ee.a.Item,{key:"6"},this.renderAnchor(6))),o.a.createElement(ee.a.Item,{key:"7",style:{float:"right",marginRight:"6%"}},this.renderAnchor(7,(function(){localStorage.removeItem("key"),window.location.href="/"})))):o.a.createElement(ee.a,{className:ue.a.menu,theme:"light",mode:"horizontal",selectedKeys:a},o.a.createElement(ee.a.Item,{key:"0"},this.renderAnchor(0)),o.a.createElement(ee.a.Item,{key:"1"},this.renderAnchor(1)),o.a.createElement(ee.a.Item,{key:"8"},this.renderAnchor(8)))}},{key:"render",value:function(){return o.a.createElement("div",null,this.renderContext())}}]),a}(o.a.Component),ge=Object(s.b)((function(e){return{user:e.user}}),n)(fe),ve=a(16),ye=a(139),be=a.n(ye),Ee=a(532),xe=a(527),ke=a(539),we=a(550),Oe=a(551),Ce=a(552),je=a(553),Ie=function(){var e=Object(b.a)(y.a.mark((function e(t,a){var n,r,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n=localStorage.getItem("key"))){e.next=9;break}return o={Authorization:"Token "+n},e.next=6,K.a.get(t,{headers:o});case 6:r=e.sent,e.next=12;break;case 9:return e.next=11,K.a.get(t);case 11:r=e.sent;case 12:a(r),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,a){return e.apply(this,arguments)}}(),Se=a(116),Ae=a.n(Se),Te=a(533),_e=a(526);var Ne=function(e){Date.prototype.toIsoString=function(){var e=-this.getTimezoneOffset(),t=e>=0?"+":"-",a=function(e){var t=Math.floor(Math.abs(e));return(t<10?"0":"")+t};return this.getFullYear()+"-"+a(this.getMonth()+1)+"-"+a(this.getDate())+"T"+a(this.getHours())+":"+a(this.getMinutes())+":"+a(this.getSeconds())+t+a(e/60)+":"+a(e%60)};var t=e.toLocaleString({timeZone:"america/denver"});return(t=new Date(t)).toIsoString()};var Pe=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},ze=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={user:e.props.user,post:e.props.post,callback:e.props.callback,comment:null},e.handleCommentChange=function(t){e.setState({comment:t.target.value})},e.postComment=Object(b.a)(y.a.mark((function t(){var a,n,r,o,l,c,s,i;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.state,n=a.comment,r=a.user,o=a.post,l={query:"addComment",post:o.origin,comment:{author:{id:r.id,host:r.host,displayName:r.displayName,url:r.url,github:r.github},comment:n,contentType:"text/plain",published:Ne(new Date),id:String(Pe())}},c={Authorization:"Token "+localStorage.getItem("key")},s=o.id.split("/").pop(),t.next=7,K.a.post(G(s),l,{headers:c});case 7:return t.next=9,K.a.get(W(s));case 9:i=t.sent,e.setState({post:i.data}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])}))),e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.callback,a=e.user,n=e.post,r=e.comment;return o.a.createElement(Te.a,{visible:!0,onClose:t,title:n.comments.length+" comment(s)",width:512},o.a.createElement(Ee.b,{dataSource:n.comments,locale:{emptyText:"No comment yet"},renderItem:function(e){return o.a.createElement(_e.a,{avatar:o.a.createElement(xe.a,{size:"large",style:{color:"#3992f7",backgroundColor:"#ccebff",fontSize:"35px"}},e.author.displayName[0].toUpperCase()),author:o.a.createElement("a",{href:_(e.author.id.split("/").pop()),style:{color:"#7f553b",fontSize:"18px"}},e.author.displayName),content:e.comment,datetime:o.a.createElement("span",{style:{fontSize:"15px",fontWeight:"300",color:"dark"}},Be(e.published))})}}),o.a.createElement("div",{style:{textAlign:"center"}},a.loggedIn?o.a.createElement("div",null,o.a.createElement(w.a.TextArea,{rows:5,value:r,onChange:this.handleCommentChange,placeholder:"Type your comment here",style:{resize:"none"}}),o.a.createElement(C.a,{type:"primary",onClick:this.postComment,style:{marginTop:"1em"}},"Comment")):o.a.createElement(C.a,{type:"link",onClick:function(){window.location.href="/fe/login"},style:{marginTop:"1em"}},"Log in to comment")))}}]),a}(o.a.Component),Be=function(e){return(e=e.split(/-|\./)).splice(3,1),e.join("-")},Le=Object(s.b)((function(e){return{user:e.user}}),null)(ze),Me=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).onLoadMore=function(){n.setState({loading:!0}),Ie(n.state.dataUrl,(function(e){n.setState({loading:!1,data:n.state.data.concat(e.data.posts),dataUrl:e.data.next})}))},n.handleEditPost=function(e){window.location.href="/fe/post/"+e.id},n.handleDeletePost=function(){var e=Object(b.a)(y.a.mark((function e(t){var a,r,o,l;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={Authorization:"Token "+localStorage.getItem("key")},r=t.id.split("/").pop(),e.next=5,K.a.delete(W(r),{headers:a});case 5:204===e.sent.status&&(o=Object(ve.a)(n.state.data),-1!==(l=o.indexOf(t))&&(o.splice(l,1),n.setState({data:o}),E.a.success("deleted!",1))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),n.state={loading:!1,data:[],dataUrl:n.props.source,showComments:!1,selectedPost:null,showEdit:n.props.showEdit},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;Ie(this.state.dataUrl,(function(t){e.setState({loading:!1,data:t.data.posts,dataUrl:t.data.next})}))}},{key:"handleComments",value:function(e){this.setState({selectedPost:e,showComments:!0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.data,r=t.dataUrl,l=t.showComments,c=t.selectedPost,s=t.showEdit,i=a?null:r?o.a.createElement("div",{className:Ae.a.loadmore},o.a.createElement(C.a,{type:"link",htmlType:"button",onClick:this.onLoadMore},"Load more")):o.a.createElement("div",{className:Ae.a.loadmore},o.a.createElement(C.a,{type:"text",htmlType:"button"},"No more posts"));return o.a.createElement("div",null,o.a.createElement(Ee.b,{className:Ae.a.postList,itemLayout:"vertical",size:"large",loadMore:i,dataSource:n,renderItem:function(t){return o.a.createElement(Ee.b.Item,{key:t.id,actions:s?[o.a.createElement("span",null,o.a.createElement(we.a,{style:{color:"#08c"}})," "+Math.floor(3*t.comments.length/2)),o.a.createElement("span",{onClick:function(){e.handleComments(t)}},o.a.createElement(Oe.a,{style:{color:"#08c"}})," "+t.comments.length+" comment(s)"),o.a.createElement("span",{onClick:function(){e.handleEditPost(t)}},o.a.createElement(Ce.a,{style:{color:"#08c"}})),o.a.createElement("span",{onClick:function(){e.handleDeletePost(t)}},o.a.createElement(je.a,{style:{color:"#08c"}}))]:[o.a.createElement("span",null,o.a.createElement(we.a,{style:{color:"#08c"}})," "+Math.floor(3*t.comments.length/2)),o.a.createElement("span",{onClick:function(){e.handleComments(t)}},o.a.createElement(Oe.a,{style:{color:"#08c"}})," "+t.comments.length+" comment(s)")]},o.a.createElement(Ee.b.Item.Meta,{avatar:o.a.createElement(xe.a,{className:Ae.a.avatar,size:50,style:{fontSize:"35px"}},t.author.displayName[0].toUpperCase()),title:o.a.createElement("a",{href:_(t.author.id.split("/").pop()),style:{color:"#7f553b",fontSize:"18px"}},t.author.displayName),description:o.a.createElement("div",{style:{marginTop:"-15px"}},o.a.createElement("span",{style:{fontSize:"15px",fontWeight:"300",color:"dark"}},Ue(t.published)),o.a.createElement("br",null),t.categories.map((function(e,t){return o.a.createElement(ke.a,{key:t,color:Fe()},e)})))}),o.a.createElement("div",{style:{overflow:"auto"}},o.a.createElement("h2",null,t.title),"text/plain"===t.contentType?t.content:o.a.createElement(be.a,{source:t.content})))}}),l?o.a.createElement(Le,{post:c,callback:function(){e.setState({showComments:!1})}}):null)}}]),a}(r.Component),Fe=function(){var e=["#f78686","#f2da3a","#a2eba3","#86f7ef","#d186f7"];return e[Math.floor(Math.random()*e.length)]},Ue=function(e){return(e=e.split(/-|\./)).splice(3,1),e.join("-")},Re=Me,qe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(ge,{selectedKey:"0"}),o.a.createElement(Re,{source:(e=5,"".concat(N,"author/posts?size=").concat(e)),showEdit:!1}));var e}}]),a}(o.a.Component),De=a(99),We=a.n(De),Ge=a(554),Ve=a(555),Ke=a(556),He=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).fetchFriendsStatus=Object(b.a)(y.a.mark((function e(){var t,a,r,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.user.id.split("/").pop(),a=n.props.author.id.split("/").pop(),e.prev=2,e.next=5,K.a.get(R(t,a));case 5:r=e.sent,o=n.state.pageType,o=r.data.friends?1:r.data.pending?2:3,n.setState({pageType:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])}))),n.editProfile=function(){n.setState({pageType:5})},n.saveProfile=Object(b.a)(y.a.mark((function e(){var t,a,r,o,l,c,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=document.getElementById("bioInput").value,a=document.getElementById("displayNameInput").value,!(/\s/.test(a)|!a)){e.next=6;break}return E.a.error("Invalid Display Name!",2),e.abrupt("return");case 6:if(r=document.getElementById("githubInput").value,!/\s/.test(r)){e.next=10;break}return E.a.error("Invalid Github Username!",2),e.abrupt("return");case 10:return o=""===r?"":"https://github.com/"+document.getElementById("githubInput").value,l=B(n.state.user.id.split("/").pop()),c={github:o,displayName:a,bio:t},s={Authorization:"Token "+localStorage.getItem("key")},e.next=16,K.a.patch(l,c,{headers:s});case 16:E.a.success("Saved!",1.5,(function(){window.location.href=_(n.state.user.id.split("/").pop())})),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])}))),n.addFriend=Object(b.a)(y.a.mark((function e(){var t,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.state,a=t.user,r=t.author,e.next=4,K.a.post(U,{query:"friendrequest",author:{id:a.id,host:a.host,displayName:a.displayName,url:a.url},friend:{id:r.id,host:r.host,displayName:r.displayName,url:r.url}},{headers:{Authorization:"Token "+localStorage.getItem("key")}});case 4:n.fetchFriendsStatus(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.state={user:n.props.user,author:n.props.author,pageType:0},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.state.user.loggedIn?this.state.user.id===this.state.author.id?this.setState({pageType:4}):this.fetchFriendsStatus():this.setState({pageType:6})}},{key:"renderButton",value:function(){var e=[{text:"Loading",disable:!0,onClick:null,icon:o.a.createElement(Ge.a,null)},{text:"Friends",disable:!0,onClickEvent:null,icon:o.a.createElement(oe.a,null)},{text:"Friend Request Sent",disable:!0,onClickEvent:null,icon:o.a.createElement(Ve.a,null)},{text:"Add Friend",disable:!1,onClickEvent:this.addFriend,icon:o.a.createElement(le.a,null)},{text:"Edit",disable:!1,onClickEvent:this.editProfile,icon:o.a.createElement(Ce.a,null)},{text:"Save",disable:!1,onClickEvent:this.saveProfile,icon:o.a.createElement(Ke.a,null)},{text:"Log in",disable:!1,onClickEvent:function(){window.location.href="/fe/login"},icon:o.a.createElement(se.a,null)}][this.state.pageType];return o.a.createElement("div",{className:We.a.buttonWrapper},o.a.createElement(C.a,{shape:"round",disabled:e.disable,style:{color:"#3992f7",backgroundColor:"#ccebff",fontWeight:"bold",float:"right"},onClick:e.onClickEvent},e.icon,e.text))}},{key:"render",value:function(){var e=this.state,t=e.user,a=e.author,n=e.pageType;return o.a.createElement("div",{className:We.a.profile},o.a.createElement("div",{className:We.a.content},o.a.createElement("ul",{className:We.a.column1},o.a.createElement("li",null,"User Name: ",o.a.createElement("span",null,a.username)),o.a.createElement("li",null,"Email: ",o.a.createElement("span",null,a.email)),o.a.createElement("li",null,"Bio: ",o.a.createElement("span",null,5===n?o.a.createElement("input",{id:"bioInput",name:"bioInput",defaultValue:a.bio}):a.bio))),o.a.createElement("ul",{className:We.a.column2},o.a.createElement("li",null,"Display Name: ",o.a.createElement("span",null,5===n?o.a.createElement("input",{id:"displayNameInput",name:"displayNameInput",defaultValue:a.displayName}):a.displayName)),o.a.createElement("li",null,"Github: ",o.a.createElement("span",null,5===n?o.a.createElement("input",{id:"githubInput",name:"githubInput",defaultValue:a.github?a.github.split("/").pop():null}):a.github)))),this.renderButton(t,a),o.a.createElement("hr",null))}}]),a}(o.a.Component),Ye=a(242),Je=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"renderProfile",value:function(){var e=this.props.user;if(!e||!e.loggedIn)return o.a.createElement(Ye.a,{spinning:!0,size:"large",style:{marginLeft:"50%",marginTop:"50%"}});var t=e.id.split("/").pop();return o.a.createElement("div",null,o.a.createElement(He,{user:e,author:e}),o.a.createElement(Re,{source:q(t,5),showEdit:!0}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(ge,{selectedKey:"3"}),this.renderProfile(),";")}}]),a}(o.a.Component),Qe=Object(s.b)((function(e){return{user:e.user}}),null)(Je),Xe=a(93),Ze=a(557),$e=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"renderRequests",value:function(){return this.props.user&&this.props.user.loggedIn?o.a.createElement(et,{user:this.props.user}):o.a.createElement(Ye.a,{spinning:!0,size:"large",style:{marginLeft:"50%",marginTop:"20%"}})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(ge,{selectedKey:"6"}),this.renderRequests())}}]),a}(o.a.Component),et=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!0,user:e.props.user,data:[]},e.fetchFriendRequest=Object(b.a)(y.a.mark((function t(){var a,n,r,o,l,c,s,i,u;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.state.user.id.split("/").pop(),n=M(a),t.next=5,K.a.get(n);case 5:r=t.sent,o=[],l=Object(Xe.a)(r.data.authors),t.prev=8,l.s();case 10:if((c=l.n()).done){t.next=19;break}return s=c.value,i=s.split("/").pop(),t.next=15,K.a.get(B(i));case 15:u=t.sent,o.push(u.data);case 17:t.next=10;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(8),l.e(t.t0);case 24:return t.prev=24,l.f(),t.finish(24);case 27:e.setState({isLoading:!1,data:o}),t.next=33;break;case 30:t.prev=30,t.t1=t.catch(0),console.log(t.t1);case 33:case"end":return t.stop()}}),t,null,[[0,30],[8,21,24,27]])}))),e.responseRequest=function(){var t=Object(b.a)(y.a.mark((function t(a,n){var r,o,l;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.state.user,o={query:"friendrequest",author:{id:a.id,host:a.host,displayName:a.displayName,url:a.url},friend:{id:r.id,host:r.host,displayName:r.displayName,url:r.url},status:n},l={Authorization:"Token "+localStorage.getItem("key")},t.next=6,K.a.patch(U,o,{headers:l});case 6:E.a.success("A"===n?"Accepted!":"Rejected",1.5),e.fetchFriendRequest(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.fetchFriendRequest()}},{key:"render",value:function(){var e=this;return this.state.isLoading?o.a.createElement(Ye.a,{spinning:!0,size:"large",style:{marginLeft:"50%",marginTop:"20%"}}):o.a.createElement("div",null,o.a.createElement(Ee.b,{dataSource:this.state.data,renderItem:function(t){return o.a.createElement(Ee.b.Item,{style:{marginLeft:"17%",marginRight:"17%",marginBottom:"1em"}},o.a.createElement(Ee.b.Item.Meta,{avatar:o.a.createElement(xe.a,{size:50,style:{color:"#3992f7",backgroundColor:"#ccebff",fontSize:"35px"}},t.displayName[0].toUpperCase()),title:o.a.createElement("a",{style:{color:"#7f553b",fontSize:"18px"},href:_(t.id.split("/").pop())},t.displayName),description:"Email: "+t.email}),o.a.createElement(C.a,{type:"primary",shape:"round",style:{marginRight:"1em"},onClick:function(){return e.responseRequest(t,"A")}},o.a.createElement(le.a,null),"Accept"),o.a.createElement(C.a,{type:"danger",shape:"round",onClick:function(){return e.responseRequest(t,"R")}},o.a.createElement(Ze.a,null),"Reject"))}}))}}]),a}(o.a.Component),tt=Object(s.b)((function(e){return{user:e.user}}),null)($e),at=a(535),nt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"renderFriends",value:function(){return this.props.user&&this.props.user.loggedIn?o.a.createElement(rt,{user:this.props.user}):o.a.createElement(Ye.a,{spinning:!0,size:"large",style:{marginLeft:"50%",marginTop:"20%"}})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(ge,{selectedKey:"5"}),this.renderFriends())}}]),a}(o.a.Component),rt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!0,user:e.props.user,data:[]},e.fetchFriends=Object(b.a)(y.a.mark((function t(){var a,n,r,o,l,c,s,i,u;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.state.user.id.split("/").pop(),n=F(a),t.next=5,K.a.get(n);case 5:r=t.sent,o=[],l=Object(Xe.a)(r.data.authors),t.prev=8,l.s();case 10:if((c=l.n()).done){t.next=19;break}return s=c.value,i=s.split("/").pop(),t.next=15,K.a.get(B(i));case 15:u=t.sent,o.push(u.data);case 17:t.next=10;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(8),l.e(t.t0);case 24:return t.prev=24,l.f(),t.finish(24);case 27:e.setState({isLoading:!1,data:o}),t.next=33;break;case 30:t.prev=30,t.t1=t.catch(0),console.log(t.t1);case 33:case"end":return t.stop()}}),t,null,[[0,30],[8,21,24,27]])}))),e.confirmDelete=function(t){at.a.confirm({title:"Are you sure you want to delete ".concat(t.displayName,"?"),okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){a(t)}});var a=function(){var t=Object(b.a)(y.a.mark((function t(a){var n,r,o;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.state.user,r={query:"friendrequest",author:{id:n.id,host:n.host,displayName:n.displayName,url:n.url},friend:{id:a.id,host:a.host,displayName:a.displayName,url:a.url},status:"R"},o={Authorization:"Token "+localStorage.getItem("key")},t.next=6,K.a.patch(U,r,{headers:o});case 6:E.a.success("Deleted",1.5),e.fetchFriends(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.fetchFriends()}},{key:"render",value:function(){var e=this;return this.state.isLoading?o.a.createElement(Ye.a,{spinning:!0,size:"large",style:{marginLeft:"50%",marginTop:"20%"}}):o.a.createElement("div",null,o.a.createElement(Ee.b,{dataSource:this.state.data,renderItem:function(t){return o.a.createElement(Ee.b.Item,{style:{marginLeft:"17%",marginRight:"17%",marginBottom:"1em"}},o.a.createElement(Ee.b.Item.Meta,{avatar:o.a.createElement(xe.a,{size:50,style:{color:"#3992f7",backgroundColor:"#ccebff",fontSize:"35px"}},t.displayName[0].toUpperCase()),title:o.a.createElement("a",{style:{color:"#7f553b",fontSize:"18px"},href:_(t.id.split("/").pop())},t.displayName),description:"Email: "+t.email}),o.a.createElement(C.a,{type:"danger",shape:"round",onClick:function(){return e.confirmDelete(t)}},o.a.createElement(Ze.a,null),"Unfriend"))}}))}}]),a}(o.a.Component),ot=Object(s.b)((function(e){return{user:e.user}}),null)(nt),lt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={allAuthors:[],searchResult:null},e.fetchAllAuthors=Object(b.a)(y.a.mark((function t(){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K.a.get(L);case 3:a=t.sent,e.setState({allAuthors:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e.search=function(t){var a=null;/\s/.test(t)|!t||(a=e.state.allAuthors.filter((function(e){return-1!==e.displayName.toLowerCase().indexOf(t)}))),e.setState({searchResult:a})},e.renderProfile=function(e,t){if(!t||!e)return null;var a=t.id.split("/").pop();return o.a.createElement("div",null,o.a.createElement(He,{user:e,author:t}),o.a.createElement(Re,{source:q(a,5),showEdit:!1}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.fetchAllAuthors();var e=this.props.match;e&&e.params&&e.params.authorId&&this.props.fetchAuthor(e.params.authorId)}},{key:"render",value:function(){var e=this,t=this.props,a=t.author,n=t.user;return o.a.createElement("div",null,o.a.createElement(ge,{selectedKey:"1"}),o.a.createElement("div",{style:{marginLeft:"30%",marginRight:"30%",marginTop:"1em"}},o.a.createElement(w.a.Search,{id:"dsadnlajsdsa",enterButton:!0,size:"large",placeholder:"Enter to search authors",onSearch:function(t){return e.search(t)}}),null===this.state.searchResult?null:o.a.createElement(Ee.b,{locale:{emptyText:"No Author Found."},size:"small",bordered:!0,dataSource:this.state.searchResult,renderItem:function(e){return o.a.createElement(Ee.b.Item,null,o.a.createElement(Ee.b.Item.Meta,{avatar:o.a.createElement(xe.a,{style:{color:"#3992f7",backgroundColor:"#ccebff"}},e.displayName[0].toUpperCase()),title:o.a.createElement("a",{href:_(e.id.split("/").pop())},e.displayName),description:"Email: "+e.email}))}})),this.renderProfile(n,a))}}]),a}(o.a.Component),ct=Object(s.b)((function(e){return{user:e.user,author:e.author}}),n)(lt),st=a(95),it=a(114),ut=a(528),pt=a(558),mt=a(559),dt=a(77),ht=a.n(dt),ft={title:null,content:null,categories:[],contentType:"text/markdown",visibility:"PUBLIC",visibleTo:[],unlisted:!1},gt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={post:e.props.post?e.props.post:ft,isAddingCat:!1,newCatToAdd:null,allAuthorOptions:[],showImageModal:!1,showPreviewModal:!1},e.fetchAllAuthors=Object(b.a)(y.a.mark((function t(){var a,n,r,l,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K.a.get(L);case 3:a=t.sent,n=[],l=Object(Xe.a)(a.data);try{for(l.s();!(c=l.n()).done;)r=c.value,n.push(o.a.createElement(it.a.Option,{key:r.id,value:r.id},r.displayName+" Email: "+r.email))}catch(s){l.e(s)}finally{l.f()}e.setState({allAuthorOptions:n}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])}))),e.onPost=Object(b.a)(y.a.mark((function t(){var a,n,r,o;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,(a=e.state.post).title&&/[^\s]/.test(a.title)){t.next=5;break}return E.a.error("Title can not be empty!",1.5),t.abrupt("return");case 5:if(a.content&&/[^\s]/.test(a.content)){t.next=8;break}return E.a.error("Content can not be empty!",1.5),t.abrupt("return");case 8:return n={Authorization:"Token "+localStorage.getItem("key")},r=a.id?K.a.patch:K.a.post,o=a.id?W(a.id):D,t.next=13,r(o,a,{headers:n});case 13:window.location.href="/",t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])}))),e.handleContentType=function(t){var a=Object(pe.a)({},e.state.post);a.contentType=t.target.value,e.setState({post:a})},e.handleAddCat=function(){var t=Object(pe.a)({},e.state.post),a=e.state.newCatToAdd;a&&-1===t.categories.indexOf(a)&&t.categories.push(e.state.newCatToAdd),e.setState({post:t,isAddingCat:!1,newCatToAdd:null})},e.handleDelCat=function(t){var a=Object(pe.a)({},e.state.post),n=a.categories.indexOf(t);-1!==n&&(a.categories.splice(n,1),e.setState({post:a}))},e.handleVisibility=function(t){var a=Object(pe.a)({},e.state.post);a.visibility=t,e.setState({post:a})},e.handleVisibleAuthors=function(t){var a=Object(pe.a)({},e.state.post);a.visibleTo=t,e.setState({post:a})},e.handleContentChange=function(t){var a=Object(pe.a)({},e.state.post);a.content=t.target.value,e.setState({post:a})},e.handleTitleChange=function(t){var a=Object(pe.a)({},e.state.post);a.title=t.target.value,e.setState({post:a})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.fetchAllAuthors()}},{key:"getBase64",value:function(e,t){var a=e.target.files[0];if(void 0!==a){var n=a.name,r=new FileReader;r.readAsDataURL(a),r.onload=function(){t.name=n,t.encoding=r.result},r.onerror=function(e){console.log(e)}}}},{key:"renderUploadImageModal",value:function(e){var t=this,a={name:null,encoding:null},n=function(){var e=Object(b.a)(y.a.mark((function e(){var n,r,o,l,c,s,i,u,p;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a.name&&a.encoding){e.next=3;break}return e.abrupt("return");case 3:return n=a.encoding.split(":")[1].split(","),r=Object(st.a)(n,2),o=r[0],l=r[1],c={title:a.name,contentType:o,content:l,visibility:"PUBLIC",unlisted:!0},s={Authorization:"Token "+localStorage.getItem("key")},e.next=8,K.a.post(D,c,{headers:s});case 8:i=e.sent,u=Object(pe.a)({},t.state.post),p=yt(a.name,i.data.id),u.content=null===u.content?p:u.content.concat(p),t.setState({post:u,showImageModal:!1}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(at.a,{visible:e,title:"Select a image",destroyOnClose:!0,closable:!1,footer:[o.a.createElement(C.a,{key:"back",onClick:function(){t.setState({showImageModal:!1})}},"Cancel"),o.a.createElement(C.a,{key:"submit",onClick:n},"Confirm")]},o.a.createElement("input",{type:"file",className:"input-file",name:"imgUpload",accept:"image/*",onChange:function(e){return t.getBase64(e,a)}}))}},{key:"renderPreviewModal",value:function(e){var t=this;return o.a.createElement(at.a,{width:"66%",visible:e,title:"Preview",destroyOnClose:!0,closable:!0,footer:null,onCancel:function(){return t.setState({showPreviewModal:!1})}},o.a.createElement("div",{style:{overflow:"auto"}},o.a.createElement(be.a,{source:this.state.post.content})))}},{key:"render",value:function(){var e=this,t=this.state,a=t.post,n=t.isAddingCat,r=t.allAuthorOptions,l=t.showImageModal,c=t.showPreviewModal;return o.a.createElement(k.a,{className:ht.a.form},o.a.createElement(k.a.Item,{style:{textAlign:"center"}},o.a.createElement(ut.default.Group,{defaultValue:a.contentType,onChange:this.handleContentType},o.a.createElement(ut.default.Button,{value:"text/markdown"},"Markdown"),o.a.createElement(ut.default.Button,{value:"text/plain"},"Plain Text"))),o.a.createElement(k.a.Item,null,o.a.createElement(w.a.TextArea,{rows:1,value:a.title,onChange:this.handleTitleChange,placeholder:"title",style:{resize:"none"}})),o.a.createElement(k.a.Item,null,a.categories.map((function(t,a){return o.a.createElement(ke.a,{key:a,closable:!0,onClose:function(a){a.preventDefault(),e.handleDelCat(t)}},t)})),n?o.a.createElement(w.a,{type:"text",size:"small",style:{width:78,height:31},value:this.state.newCatToAdd,autoFocus:!0,onChange:function(t){e.setState({newCatToAdd:t.target.value})},onBlur:this.handleAddCat,onPressEnter:this.handleAddCat}):o.a.createElement(ke.a,{onClick:function(){e.setState({isAddingCat:!0})}},"+ category")),o.a.createElement(k.a.Item,{className:ht.a.contentWrapper},o.a.createElement(w.a.TextArea,{rows:13,value:a.content,onChange:this.handleContentChange,placeholder:"What do you wanna say?",className:ht.a.contentTextArea}),"text/markdown"===a.contentType?o.a.createElement("div",{className:ht.a.contentButtonsWrapper},o.a.createElement(C.a,{className:ht.a.contentButton,onClick:function(){e.setState({showImageModal:!0})}},o.a.createElement(pt.a,null)),o.a.createElement(C.a,{className:ht.a.contentButton,onClick:function(){e.setState({showPreviewModal:!0})}},o.a.createElement(mt.a,null))):null),o.a.createElement(k.a.Item,null,o.a.createElement(it.a,{placeholder:"Select visibility",defaultValue:a.visibility,onChange:this.handleVisibility},o.a.createElement(it.a.Option,{value:"PUBLIC"},"Public"),o.a.createElement(it.a.Option,{value:"FOAF"},"Friends of Friends"),o.a.createElement(it.a.Option,{value:"FRIENDS"},"Friends Only"),o.a.createElement(it.a.Option,{value:"PRIVATE"},"Selected Authors Only"))),"PRIVATE"!==a.visibility?null:o.a.createElement(k.a.Item,null,o.a.createElement(it.a,{mode:"multiple",allowClear:!0,placeholder:"Please select authors who can view this post ...",defaultValue:a.visibleTo,onChange:this.handleVisibleAuthors},r)),o.a.createElement(k.a.Item,{style:{textAlign:"center"}},o.a.createElement(C.a,{type:"primary",htmlType:"submit",onClick:this.onPost},a.id?"Update":"Post")),o.a.createElement(k.a.Item,null,this.renderUploadImageModal(l)),o.a.createElement(k.a.Item,null,this.renderPreviewModal(c)))}}]),a}(o.a.Component),vt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0,post:null},e.fetchPost=function(){var t=Object(b.a)(y.a.mark((function t(a){var n,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={Authorization:"Token "+localStorage.getItem("key")},t.next=4,K.a.get(W(a),{headers:n});case 4:r=t.sent,e.setState({post:r.data,loading:!1}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match;e&&e.params&&e.params.postId?this.fetchPost(e.params.postId):this.setState({loading:!1})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(ge,{selectedKey:"2"}),this.state.loading?o.a.createElement(Ye.a,{spinning:!0,size:"large",style:{marginLeft:"50%",marginTop:"50%"}}):o.a.createElement(gt,{post:this.state.post}))}}]),a}(o.a.Component),yt=function(e,t){return"![".concat(e).concat("]").concat("(").concat(D).concat("/").concat(t).concat(")")},bt=vt,Et=a(247),xt=a.n(Et),kt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:xt.a.BG},o.a.createElement("div",{style:{textAlign:"center",marginTop:"40%"}},o.a.createElement(C.a,{size:"large",style:{color:"#83CEF2",fontSize:"18px"},shape:"round",onClick:function(){window.location.href="/"}},o.a.createElement(te.a,{style:{fontSize:"18px"}}),"Back to Home Page")))}}]),a}(o.a.Component),wt=a(537),Ot=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return o.a.createElement(f.a,null,o.a.createElement(wt.a,null),o.a.createElement(g.c,null,o.a.createElement(g.a,{exact:!0,path:"/fe/login",render:function(){return o.a.createElement(H,null)}}),o.a.createElement(g.a,{exact:!0,path:"/fe/register",render:function(){return o.a.createElement($,null)}}),o.a.createElement(g.a,{exact:!0,path:"/",render:function(){return o.a.createElement(qe,null)}}),o.a.createElement(g.a,{exact:!0,path:"/fe/user/profile",render:function(){return o.a.createElement(Qe,null)}}),o.a.createElement(g.a,{exact:!0,path:"/fe/author/friendrequest",render:function(){return o.a.createElement(tt,null)}}),o.a.createElement(g.a,{exact:!0,path:"/fe/author/friends",render:function(){return o.a.createElement(ot,null)}}),o.a.createElement(g.a,{exact:!0,path:_(":authorId"),component:ct}),o.a.createElement(g.a,{exact:!0,path:_(""),component:ct}),o.a.createElement(g.a,{exact:!0,path:"/fe/post",render:function(){return o.a.createElement(bt,null)}}),o.a.createElement(g.a,{exact:!0,path:T,component:bt}),o.a.createElement(g.a,{eaxct:!0,path:"*",status:404,component:kt})))}}]),a}(r.Component),Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_user":return t.payload;default:return e}},jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_author":return t.payload;default:return e}},It=Object(i.c)({user:Ct,author:jt});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var St=Object(i.d)(It,{},Object(i.a)(u.a));c.a.render(o.a.createElement(s.a,{store:St},o.a.createElement(Ot,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},77:function(e,t,a){e.exports={form:"EditPost_form__2Ve5S",contentWrapper:"EditPost_contentWrapper__159Bc",contentTextArea:"EditPost_contentTextArea__3rwYy",contentButtonsWrapper:"EditPost_contentButtonsWrapper__2XFw0",contentButton:"EditPost_contentButton__1rtbZ"}},99:function(e,t,a){e.exports={profile:"Profile_profile__2LgqD",content:"Profile_content__3I92Z",column1:"Profile_column1__1tY-b",column2:"Profile_column2__uQTDd",buttonWrapper:"Profile_buttonWrapper__2ep13"}}},[[254,1,2]]]);
//# sourceMappingURL=main.b09e6413.chunk.js.map